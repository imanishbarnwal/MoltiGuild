# Render Blueprint - MoltiGuild
# Push to GitHub → Render auto-detects this file → deploys services

services:
  # ═══════════════════════════════════════
  # Coordinator API (required)
  # ═══════════════════════════════════════
  - type: web
    name: moltiguild-api
    runtime: docker
    dockerfilePath: deploy/api/Dockerfile
    dockerContext: .
    plan: free
    healthCheckPath: /api/status
    envVars:
      - key: COORDINATOR_PRIVATE_KEY
        sync: false
      - key: ADMIN_API_KEY
        sync: false
      - key: UPSTASH_REDIS_REST_URL
        sync: false
      - key: UPSTASH_REDIS_REST_TOKEN
        sync: false
      - key: MONAD_RPC
        value: https://testnet-rpc.monad.xyz
      - key: CHAIN_ID
        value: "10143"
      - key: GUILD_REGISTRY_ADDRESS
        value: "0x60395114FB889C62846a574ca4Cda3659A95b038"
      - key: GOLDSKY_ENDPOINT
        value: "https://api.goldsky.com/api/public/project_cmlgbdp3o5ldb01uv0nu66cer/subgraphs/agentguilds-monad-testnet-monad-testnet/v5/gn"
      - key: DATA_DIR
        value: /app/data

  # ═══════════════════════════════════════
  # Telegram Bot (optional - uncomment to deploy)
  # ═══════════════════════════════════════
  # - type: worker
  #   name: moltiguild-tg-bot
  #   runtime: docker
  #   dockerfilePath: deploy/tg-bot/Dockerfile
  #   dockerContext: .
  #   plan: free
  #   envVars:
  #     - key: TG_BOT_TOKEN
  #       sync: false
  #     - key: API_URL
  #       value: https://moltiguild-api.onrender.com
  #     - key: ADMIN_API_KEY
  #       sync: false
